<!doctype html> <html lang="en" class=no-js> <head> <meta charset="UTF-8" /> <title>Inv4d3rs.exe</title> <script type="text/javascript" src="js/phaser.min.js"></script> <script src=https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js></script> <style> @import 'https://fonts.googleapis.com/css?family=Press+Start+2P'; </style> <link rel="stylesheet" href="css/normalize.css"> <style> p { font-family: 'Press Start 2P', cursive; visibility: hidden; margin: 0; padding: 0; font-size: 0; } #hellopreloader_preload { display: block; position: fixed; z-index: 99999; top: 0; left: 0; width: 100%; height: 100%; background: #000; opacity: 0; } .js #hellopreloader_preload { opacity: 1 } .spinner { margin: 100px auto; width: 40px; height: 40px; position: relative; } .cube1, .cube2 { background-color: #fff; width: 15px; height: 15px; position: absolute; top: 0; left: 0; -webkit-animation: sk-cubemove 1.8s infinite ease-in-out; animation: sk-cubemove 1.8s infinite ease-in-out; } .cube2 { -webkit-animation-delay: -0.9s; animation-delay: -0.9s; } @-webkit-keyframes sk-cubemove { 25% { -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5) } 50% { -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg) } 75% { -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5) } 100% { -webkit-transform: rotate(-360deg) } } @keyframes sk-cubemove { 25% { transform: translateX(42px) rotate(-90deg) scale(0.5); -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5); } 50% { transform: translateX(42px) translateY(42px) rotate(-179deg); -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg); } 50.1% { transform: translateX(42px) translateY(42px) rotate(-180deg); -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg); } 75% { transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5); -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5); } 100% { transform: rotate(-360deg); -webkit-transform: rotate(-360deg); } } </style> </head> <body> <div id=hellopreloader> <div id=hellopreloader_preload> <div class="cssload-speeding-wheel"> <div class="spinner"> <div class="cube1"></div> <div class="cube2"></div> </div> </div> </div> </div> <script type="text/javascript"> $('.cssload-speeding-wheel').css({ 'margin-top': (document.documentElement.clientHeight) * 0.4 }); $('.cssload-speeding-wheel').css({ 'opacity': '1' }); var hellopreloader = document.getElementById("hellopreloader_preload"); function fadeOutnojquery(c) { c.style.opacity = 1; var d = setInterval(function () { c.style.opacity = c.style.opacity - 0.05; if (c.style.opacity <= 0.05) { clearInterval(d); hellopreloader.style.display = "none" } }, 5) } window.onload = function () { setTimeout(function () { fadeOutnojquery(hellopreloader) }, 200) }; </script> <div id="game"></div> <p>Oops!</p> <script src="js/phaser.min.js"></script> <script type="text/javascript"> var windowWidth = $(window).width(); var windowHeight = $(window).height(); var Speed = 200; var game = new Phaser.Game(windowWidth, windowHeight, Phaser.AUTO, 'Inv4d3rs', { preload: preload, create: create, update: update, render: render }); function preload() { game.load.image('bullet', 'assets/sprites/bullet.png'); game.load.image('enemyBullet', 'assets/sprites/enemybullet.png'); game.load.image('invader', 'assets/sprites/enemy.png'); game.load.image('ship', 'assets/sprites/ship2.png'); game.load.image('shipfire', 'assets/sprites/ship2fire.png'); game.load.spritesheet('kaboom', 'assets/sprites/explode.png', 128, 128); game.load.image('starfield', 'assets/sprites/starfield.jpg'); game.load.image('starfieldFront', 'assets/sprites/front.png'); game.load.audio('blaster', 'assets/audio/pistol.wav'); game.load.audio('explode', 'assets/audio/sentry_explode.wav'); game.load.audio('music', 'assets/audio/music.mp3'); } var player; var aliens; var bullets; var bulletTime = 0; var cursors; var fireButton; var explosions; var starfield; var score = 0; var bestscore = 0; var scoreString = ''; var scoreText; var lives; var enemyBullet; var firingTimer = 0; var stateText; var livingEnemies = []; var blaster; var explode; var music; function create() { game.physics.startSystem(Phaser.Physics.ARCADE); blaster = game.add.audio('blaster'); blaster.volume = 0.4; explode = game.add.audio('explode'); explode.volume = 0.6; music = game.add.audio('music'); music.play(); starfield = game.add.tileSprite(0, 0, windowWidth, windowHeight, 'starfield'); starfieldfront = game.add.tileSprite(0, 0, windowWidth, windowHeight, 'starfieldFront'); bullets = game.add.group(); bullets.enableBody = true; bullets.physicsBodyType = Phaser.Physics.ARCADE; bullets.createMultiple(30, 'bullet'); bullets.setAll('anchor.x', 0.5); bullets.setAll('anchor.y', 1); bullets.setAll('outOfBoundsKill', true); bullets.setAll('checkWorldBounds', true); enemyBullets = game.add.group(); enemyBullets.enableBody = true; enemyBullets.physicsBodyType = Phaser.Physics.ARCADE; enemyBullets.createMultiple(30, 'enemyBullet'); enemyBullets.setAll('anchor.x', 0.5); enemyBullets.setAll('anchor.y', 1); enemyBullets.setAll('outOfBoundsKill', true); enemyBullets.setAll('checkWorldBounds', true); player = game.add.sprite(windowWidth / 2, windowHeight / 1.2, 'ship'); player.anchor.setTo(0.5, 0.5); game.physics.enable(player, Phaser.Physics.ARCADE); aliens = game.add.group(); aliens.enableBody = true; aliens.physicsBodyType = Phaser.Physics.ARCADE; createAliens(); explosions = game.add.group(); explosions.createMultiple(30, 'kaboom'); explosions.forEach(setupInvader, this); scoreString = 'Score: '; scoreText = game.add.text(100, 20, '', { font: '24px Press Start 2P', fill: '#fff' }); scoreText.font = 'Press Start 2P'; scoreText.stroke = '#000000'; scoreText.strokeThickness = 2; scoreText.setShadow(5, 5, 'rgba(0,0,0,0.5)', 5); lives = game.add.group(); livesText = game.add.text(game.world.width - 300, 20, 'Lives: ', { font: '24px Press Start 2P', fill: '#fff' }); livesText.font = 'Press Start 2P'; livesText.stroke = '#000000'; livesText.strokeThickness = 2; livesText.setShadow(5, 5, 'rgba(0,0,0,0.5)', 5); livesText.visible = true; stateText = game.add.text(game.world.centerX, game.world.centerY, ' ', { font: '24px Press Start 2P', fill: '#fff' }); stateText.anchor.setTo(0.5, 0.5); stateText.visible = true; for (var i = 0; i < 3; i++) { var ship = lives.create(game.world.width - 120 + (30 * i), 33, 'ship'); ship.anchor.setTo(0.5, 0.5); ship.angle = 90; } cursors = game.input.keyboard.createCursorKeys(); fireButton = game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR); pauseKey = this.input.keyboard.addKey(Phaser.Keyboard.ESC); pauseKey.onDown.add(togglePause, this); enterKey = this.input.keyboard.addKey(Phaser.Keyboard.ENTER); } function togglePause() { stateText.text = "Paused"; stateText.font = 'Press Start 2P'; stateText.align = 'center'; stateText.stroke = '#000000'; stateText.strokeThickness = 2; stateText.setShadow(5, 5, 'rgba(0,0,0,0.5)', 5); if (game.paused == true) { game.paused = false; stateText.visible = false; music.resume(); } else { game.paused = true; stateText.visible = true; music.pause(); } } function createAliens() { for (var y = 0; y < 5; y++) { for (var x = 0; x < 10; x++) { var alien = aliens.create(x * 50, y * 50, 'invader'); alien.anchor.setTo(0.5, 0.5); alien.animations.add('fly', [0, 1, 2, 3, 4], 200, true); alien.play('fly'); alien.body.moves = false; } } aliens.x = windowWidth / 10; aliens.y = 50; var tween = game.add.tween(aliens).to({ x: windowWidth - aliens.x - x * 50 }, 5000, Phaser.Easing.Linear.None, true, 0, 1000, true); tween.onLoop.add(descend, this); } function setupInvader(invader) { invader.anchor.x = 0.5; invader.anchor.y = 0.5; invader.animations.add('kaboom'); } function descend() { aliens.y += 10; } function render() { } function update() { player.loadTexture('ship', 0, false); scoreText.text = scoreString + score; starfieldfront.tilePosition.y += 5; starfield.tilePosition.y += 0.25; if (player.alive) { player.body.velocity.setTo(0, 0); if (cursors.left.isDown && player.x > 30) { player.body.velocity.x = -300; } else if (cursors.right.isDown && player.x < game.world.width - 30) { player.body.velocity.x = 300; } if (cursors.up.isDown) { player.body.velocity.y = -300; player.loadTexture('shipfire', 0, false); } else if (cursors.down.isDown) { player.body.velocity.y = 300; } if (fireButton.isDown) { fireBullet(); } if (game.time.now > firingTimer) { enemyFires(); } game.physics.arcade.overlap(bullets, aliens, collisionHandler, null, this); game.physics.arcade.overlap(enemyBullets, player, enemyHitsPlayer, null, this); } } function changeTexture() { } function collisionHandler(bullet, alien) { bullet.kill(); alien.kill(); score += 20; var explosion = explosions.getFirstExists(false); explosion.reset(alien.body.x, alien.body.y); explosion.play('kaboom', 30, false, true); explode.play(); if (aliens.countLiving() == 0) { score += 1000; scoreText.text = scoreString + score; enemyBullets.callAll('kill', this); stateText.text = " You Won, \n Press Enter for continue"; stateText.visible = true; stateText.font = 'Press Start 2P'; stateText.align = 'center'; stateText.stroke = '#000000'; stateText.strokeThickness = 2; stateText.setShadow(5, 5, 'rgba(0,0,0,0.5)', 5); game.input.onTap.addOnce(nextlevel, this); enterKey.onDown.addOnce(nextlevel, this); } } function enemyHitsPlayer(player, bullet) { bullet.kill(); explode.play(); live = lives.getFirstAlive(); if (live) { live.kill(); } var explosion = explosions.getFirstExists(false); explosion.reset(player.body.x, player.body.y); explosion.play('kaboom', 30, false, true); if (lives.countLiving() < 1) { player.kill(); enemyBullets.callAll('kill'); if (score > bestscore) { bestscore = score; } stateText.text = " GAME OVER \n Press Enter to restart\nBest Score: " + bestscore; stateText.visible = true; stateText.font = 'Press Start 2P'; stateText.align = 'center'; stateText.stroke = '#000000'; stateText.strokeThickness = 2; stateText.setShadow(5, 5, 'rgba(0,0,0,0.5)', 5); enterKey.onDown.addOnce(restart, this); game.input.onTap.addOnce(restart, this); } } function enemyFires() { enemyBullet = enemyBullets.getFirstExists(false); livingEnemies.length = 0; aliens.forEachAlive(function (alien) { livingEnemies.push(alien); }); if (enemyBullet && livingEnemies.length > 0) { var random = game.rnd.integerInRange(0, livingEnemies.length - 1); var shooter = livingEnemies[random]; enemyBullet.reset(shooter.body.x, shooter.body.y); game.physics.arcade.moveToObject(enemyBullet, player, Speed); firingTimer = game.time.now + 300; } } function fireBullet() { if (game.time.now > bulletTime) { bullet = bullets.getFirstExists(false); if (bullet) { bullet.reset(player.x, player.y + 8); bullet.body.velocity.y = -400; bulletTime = game.time.now + 150; blaster.play(); } } } function resetBullet(bullet) { bullet.kill(); } function nextlevel() { Speed += 100; aliens.removeAll(); createAliens(); stateText.visible = false; } function restart() { score = 0; Speed = 200; lives.callAll('revive'); aliens.removeAll(); createAliens(); player.revive(); stateText.visible = false; } </script> </body> </html>